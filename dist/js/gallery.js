!function(a,b){"function"==typeof define&&define.amd?define([],b(a)):"object"==typeof exports?module.exports=b(a):a.vanillaGallery=b(a)}("undefined"!=typeof global?global:this.window||this.global,function(a){"use strict";var b,c,d,e={},f="querySelector"in document&&"addEventListener"in a,g={selector:"[data-gallery]",maxWidth:240,beforeSetWidth:function(){},afterSetWidth:function(){}},h=function(a,b,c){if("[object Object]"===Object.prototype.toString.call(a))for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&b.call(c,a[d],d,a);else for(var e=a.length-1;e>=0;e--)b.call(c,a[e],e,a)},i=function(){var a={},b=!1,c=0,d=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(b=arguments[0],c++);for(var e=function(c){for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(b&&"[object Object]"===Object.prototype.toString.call(c[d])?a[d]=i(!0,a[d],c[d]):a[d]=c[d])};c<d;c++){var f=arguments[c];e(f)}return a};e.setWidth=function(a){var c=i(b||g,a||{}),e=document.querySelectorAll(c.selector);e&&h(e,function(b){e=b,c.beforeSetWidth(a),d=document.querySelector(c.selector).getAttribute("data-gallery-itemwidth")||c.maxWidth;var f=parseFloat(window.getComputedStyle(e).width),g=Math.ceil(f/d);e.setAttribute("data-gallery-items",g),c.afterSetWidth(a)})};var j=function(){var a=document.querySelectorAll(b.selector+" img");a&&h(a,function(a){var b=a;b.onload=function(){var a=window.getComputedStyle(b);parseInt(a.width,10)>parseInt(a.height,10)&&b.classList.add("is-landscape")}})},k=function(){c||(c=setTimeout(function(){c=null,e.setWidth()},200))};return e.destroy=function(){b&&(document.removeEventListener("resize",k,!1),document.querySelector(b.selector).removeAttribute("data-gallery-items"),b=null)},e.init=function(c){f&&(e.destroy(),b=i(g,c||{}),a.addEventListener("resize",k,!1),e.setWidth(),j())},e});